/*
 * buzzer.c
 *
 *  Created on: Dec 8, 2022
 *      Author: duyvt
 */


#include "buzzer.h"

TIM_HandleTypeDef htim3;

void buzzerRun(){
	switch(pedes_state){
	case PEDES_GREEN:
		if (timer6_flag ==1){
			__HAL_TIM_SetCompare(&htim3,TIM_CHANNEL_1, 25 - 25/(get_timer4_counter()/1000));
			setTimer6((amberTime + greenTime)/20 *1000);
		}
		break;
	default:
//		__HAL_TIM_SetCompare(&htim3,TIM_CHANNEL_1, 0);
		break;
	}
}
