/*
 * buzzer.c
 *
 *  Created on: Dec 8, 2022
 *      Author: duyvt
 */


#include "buzzer.h"

TIM_HandleTypeDef htim3;

void buzzerRun(){
	switch(pedes_state){
	case PEDES_GREEN:
		if (timer6_flag ==1){
			__HAL_TIM_SetCompare(&htim3,TIM_CHANNEL_1, 25 );
			HAL_Delay(200);
			__HAL_TIM_SetCompare(&htim3,TIM_CHANNEL_1, 25 -5);
			HAL_Delay(200);
			__HAL_TIM_SetCompare(&htim3,TIM_CHANNEL_1, 25 -10);
			HAL_Delay(200);
			setTimer6((redTime)/20 *1000);
		}
		break;
	default:
//		__HAL_TIM_SetCompare(&htim3,TIM_CHANNEL_1, 0);
		break;
	}
}
